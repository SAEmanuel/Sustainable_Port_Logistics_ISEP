### 1. Criar Incidente Ativo (Impacto Específico)
# Cria um incidente sem endTime (Ativo) afetando uma VVE específica.
POST http://localhost:3000/api/incidents
Content-Type: application/json

{
  "code": "INC-2024-00001",
  "incidentTypeCode": "T-INC002",
  "vveList": ["VVE-998877"],
  "startTime": "2024-12-18T08:00:00Z",
  "endTime": null,
  "severity": "Minor",
  "impactMode": "Specific",
  "description": "Nevoeiro denso impedindo aproximação da VVE-998877.",
  "createdByUser": "user@example.com",
  "upcomingWindowStartTime": null,
  "upcomingWindowEndTime": null
}

### 2. Criar Incidente Passado/Resolvido (Impacto Global)
# Cria um incidente que já tem endTime definido.
POST http://localhost:3000/api/incidents
Content-Type: application/json

{
  "code": "INC-2024-00002",
  "incidentTypeCode": "T-INC001",
  "vveList": ["ALL"],
  "startTime": "2024-12-10T10:00:00Z",
  "endTime": "2024-12-10T14:00:00Z",
  "severity": "Major",
  "impactMode": "Global",
  "description": "Tempestade forte afetando todas as operações do porto.",
  "createdByUser": "admin@example.com",
  "upcomingWindowStartTime": null,
  "upcomingWindowEndTime": null
}

### 3. Criar Incidente Futuro (Upcoming)
# Requer janelas de tempo upcoming preenchidas.
POST http://localhost:3000/api/incidents
Content-Type: application/json

{
  "code": "INC-2024-00003",
  "incidentTypeCode": "T-INC001",
  "vveList": [],
  "startTime": "2024-12-25T09:00:00Z",
  "endTime": null,
  "severity": "Critical",
  "impactMode": "Upcoming",
  "description": "Greve prevista dos operadores portuários.",
  "createdByUser": "planning@example.com",
  "upcomingWindowStartTime": "2024-12-25T09:00:00Z",
  "upcomingWindowEndTime": "2024-12-26T18:00:00Z"
}

### 4. Atualizar Incidente
# Altera a severidade e descrição do Incidente 001.
PUT http://localhost:3000/api/incidents/INC-2024-00001
Content-Type: application/json

{
  "incidentTypeCode": "T-INC002",
  "vveList": ["VVE-998877"],
  "startTime": "2024-12-18T08:00:00Z",
  "endTime": null,
  "severity": "Major",
  "impactMode": "Specific",
  "description": "Nevoeiro agravou-se, visibilidade nula.",
  "upcomingWindowStartTime": null,
  "upcomingWindowEndTime": null
}

### 5. Adicionar VVE a um Incidente
# Adiciona uma nova VVE afetada ao incidente 001.
POST http://localhost:3000/api/incidents/INC-2024-00001/vve/VVE-112233
Content-Type: application/json

{}

### 6. Remover VVE de um Incidente
# Remove a VVE original do incidente 001.
DELETE http://localhost:3000/api/incidents/INC-2024-00001/vve/VVE-998877

### 7. Marcar Incidente como Resolvido
# Define o endTime para o momento atual.
PATCH http://localhost:3000/api/incidents/INC-2024-00001/resolve

### 8. Obter Todos os Incidentes
GET http://localhost:3000/api/incidents

### 9. Obter Incidente por Código
GET http://localhost:3000/api/incidents/INC-2024-00002

### 10. Obter Incidentes Ativos
# Deve retornar apenas os que têm endTime = null (ex: o INC-003 Upcoming).
GET http://localhost:3000/api/incidents/active

### 11. Obter Incidentes Resolvidos
# Deve retornar INC-001 e INC-002.
GET http://localhost:3000/api/incidents/resolved

### 12. Pesquisar por Intervalo de Datas
# Procura incidentes que ocorreram em Dezembro.
GET http://localhost:3000/api/incidents/search/date?start=2024-12-01T00:00:00Z&end=2024-12-31T23:59:59Z

### 13. Pesquisar por Severidade
GET http://localhost:3000/api/incidents/search/severity?severity=Critical

### 14. Pesquisar Incidentes por VVE
# Procura incidentes que afetam a VVE-112233 (adicionada no passo 5).
GET http://localhost:3000/api/incidents/vve/VVE-112233

### 15. Apagar Incidente
# Remove o incidente futuro (003).
DELETE http://localhost:3000/api/incidents/INC-2024-00003
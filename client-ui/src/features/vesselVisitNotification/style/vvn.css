/* herda do layout global: var(--bg), var(--text), var(--card-bg), var(--footer-bg) */

/* HEADER: chips + CTA */
.vvn-header-right{ display:flex; gap:10px; align-items:center; }
.vvn-chips{ display:flex; gap:8px; flex-wrap:wrap; }
.vvn-chip{
    background: var(--card-bg);
    border: 1px solid var(--shadow);
    color: var(--text);
    padding: 6px 10px;
    border-radius: 999px;
    font-weight: 700;
    font-size: 12px;
}
.vchip-blue{ box-shadow: inset 0 0 0 2px rgba(59,130,246,.2); }
.vchip-indigo{ box-shadow: inset 0 0 0 2px rgba(99,102,241,.2); }
.vchip-green{ box-shadow: inset 0 0 0 2px rgba(34,197,94,.2); }
.vchip-gray{ box-shadow: inset 0 0 0 2px rgba(148,163,184,.25); }

/* TABS */
.vvn-tabs { display:flex; gap:8px; margin:8px 0 6px; }
.vvn-tab {
    padding:8px 12px; border-radius:10px; border:1px solid var(--shadow);
    background:var(--card-bg); color:var(--text);
    cursor:pointer; font-weight:700; transition:.2s ease;
}
.vvn-tab.active { background:var(--hover); box-shadow:inset 0 0 0 2px var(--accent); transform:translateY(-1px); }

/* FILTROS */
.vvn-filters {
    display:grid; gap:10px; grid-template-columns:repeat(auto-fill,minmax(180px,1fr));
    background:var(--card-bg); border:1px solid var(--shadow); padding:12px; border-radius:12px; margin-bottom:10px;
}
.sa-field.small label{ font-size:12px; opacity:.7; }
.sa-field.small .sa-input{ font-size:14px; padding:8px 10px; }

/* LAYOUT */
.vvn-grid{ display:grid; grid-template-columns:340px 1fr; gap:14px; min-height:420px; }
@media (max-width:980px){ .vvn-grid{ grid-template-columns:1fr; } }

/* LISTA */
.vvn-list{ border:1px solid var(--shadow); background:var(--card-bg); color:var(--text); border-radius:12px; padding:10px; overflow-y:auto; }
.vvn-skel{
    height:64px; border-radius:10px;
    background:linear-gradient(90deg,rgba(0,0,0,.06),rgba(0,0,0,.02),rgba(0,0,0,.06));
    animation:shimmer 1.4s linear infinite; margin-bottom:8px;
}
@keyframes shimmer{ 0%{background-position:-220px 0} 100%{background-position:220px 0} }

.vvn-item{
    width:100%; text-align:left; border:1px solid var(--shadow); background:var(--card-bg); color:var(--text);
    border-radius:12px; padding:10px; margin-bottom:8px; cursor:pointer; transition:.2s ease; position:relative;
}
.vvn-item.active{ box-shadow:inset 0 0 0 2px var(--accent); }
.vvn-item:hover{ transform:translateY(-1px); background:var(--hover); }
.vvn-item-top{ display:flex; align-items:center; justify-content:space-between; }

.vvn-status{
    font-size:12px; padding:3px 8px; border-radius:999px; font-weight:800; border:1px solid var(--shadow);
    background: var(--card-bg); color: var(--text);
}
.v-inprogress,
.v-pendinginformation { background: rgba(245,158,11,.14); color:#b45309; }
.v-submitted { background: rgba(99,102,241,.16); color:#6366f1; }
.v-accepted { background: rgba(34,197,94,.15); color:#16a34a; }
.v-withdrawn { background: rgba(148,163,184,.22); color:#64748b; }

.vvn-item-sub{ font-size:12px; opacity:.8; margin-top:4px; }

/* mini ações dentro da listagem */
.vvn-mini-actions{
    position:absolute; right:8px; bottom:8px; display:flex; gap:6px;
}
.sa-btn.xs{ padding:6px 8px; border-radius:8px; font-size:12px; }

/* MAIN */
.vvn-main{ border:1px solid var(--shadow); background:var(--card-bg); color:var(--text); border-radius:12px; padding:14px; }
.vvn-head{ display:flex; justify-content:space-between; align-items:center; margin-bottom:12px; }
.vvn-title{ margin:0; font-size:22px; font-weight:900; }
.vvn-sub{ opacity:.8; }
.vvn-actions{ display:flex; gap:8px; }
.vvn-btn{ transition: transform .15s ease; }
.vvn-btn:hover{ transform: translateY(-1px); }
.vvn-cta{ animation: popIn .35s ease; }
@keyframes popIn{ from{ transform:scale(.92); opacity:.0 } to{ transform:scale(1); opacity:1 } }

/* KPIs */
.vvn-kpis{ display:grid; gap:12px; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); margin-bottom:12px; }
.sa-card.kpi{ position:relative; overflow:hidden; background:var(--card-bg); color:var(--text); }
.sa-card.kpi::after{
    content:""; position:absolute; inset:0;
    background: radial-gradient(200px 60px at 120% -20%, rgba(0,172,255,.12), transparent 60%),
    radial-gradient(150px 50px at -20% 120%, rgba(0,255,163,.10), transparent 60%);
    pointer-events:none;
}

/* GRID DE AÇÕES (pills) */
.vvn-actions-grid{
    display:grid; gap:12px;
    grid-template-columns: repeat(auto-fit,minmax(220px,1fr));
    margin-bottom: 6px;
}
.vvn-pill{
    display:flex; align-items:center; gap:10px; text-align:left;
    background:var(--card-bg); color:var(--text);
    border:1px solid var(--shadow); border-radius:12px; padding:12px; cursor:pointer;
    transition:.22s ease; position:relative; overflow:hidden;
}
.vvn-pill:hover{ transform: translateY(-2px); box-shadow: 0 8px 20px rgba(0,0,0,.12); }
.vvn-pill:disabled{ opacity:.6; cursor:not-allowed; transform:none; }
.vvn-emoji{ font-size:20px; filter: drop-shadow(0 2px 6px rgba(0,0,0,.12)); }
.vvn-pill-text b{ font-size:14px; }
.vvn-pill-text span{ display:block; opacity:.8; font-size:12px; }

/* TABLES */
.vvn-table-wrap{ overflow:auto; }
.vvn-table-wrap.tall{ max-height:60vh; }
.vvn-table{
    width:100%; border-collapse:collapse; border:1px solid var(--shadow); border-radius:10px; overflow:hidden;
    background: var(--card-bg); color: var(--text);
}
.vvn-table th, .vvn-table td{ padding:8px 10px; border-bottom:1px solid var(--shadow); text-align:left; font-size:14px; }
.vvn-table thead th{ background:rgba(0,0,0,.04); font-weight:900; }
:root[data-theme='dark'] .vvn-table thead th{ background:rgba(255,255,255,.06); }
.vvn-table tbody tr:hover{ background:var(--hover); }

/* POPS (detalhe) */
.vvn-pop{
    background:var(--card-bg); color:var(--text);
    width:900px; max-width:96vw; border:1px solid var(--shadow);
    border-radius:16px; padding:18px;
    animation: vvnZoom .25s ease; max-height:86vh; display:flex; flex-direction:column; gap:12px;
    box-shadow: 0 12px 40px rgba(0,0,0,.25);
}
@keyframes vvnZoom{ from{ transform:scale(.92) translateY(10px); opacity:0 } to{ transform:scale(1) translateY(0); opacity:1 } }
.vvn-pop-head{ display:flex; justify-content:space-between; align-items:center; gap:10px; }
.vvn-pop-head h3{ margin:0; display:flex; align-items:center; gap:8px; font-weight:900; }
.vvn-pop-close{ width:40px; height:40px; display:grid; place-items:center; border-radius:10px; transition:.2s; }
.vvn-pop-close:hover{ background:rgba(0,0,0,.08); transform:rotate(90deg) scale(1.08); }

/* DEF GRID */
.vvn-def{
    display:grid; grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
    gap:10px; margin-bottom:6px;
}
.vvn-def>div{
    border:1px solid var(--shadow); background:var(--card-bg); color:var(--text);
    border-radius:10px; padding:8px 10px;
}
.vvn-def span{ font-size:12px; opacity:.7; font-weight:700; }
.vvn-def strong{ font-size:16px; font-weight:900; }

/* MODAIS de AÇÃO (reutilizam base) */
.vvn-modal{
    background:var(--card-bg); color:var(--text);
    width:680px; max-width:94vw; border:1px solid var(--shadow);
    border-radius:14px; padding:18px; animation: saZoomIn .2s ease;
}
.vvn-modal-body{ display:flex; flex-direction:column; gap:10px; }
.vvn-modal-body.grid2{ display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:12px; }
.vvn-modal-actions{ display:flex; justify-content:flex-end; gap:10px; margin-top:10px; }
@keyframes saZoomIn{ from{ transform:scale(.92); opacity:0 } to{ transform:scale(1); opacity:1 } }

/* TASK POP LIST */
.vvn-task-pop{ margin:0; padding:0; list-style:none; display:grid; gap:10px; }
.vvn-task-chip{
    border:1px solid var(--shadow); background:var(--card-bg); color:var(--text);
    border-radius:12px; padding:10px 12px;
    animation: chipIn .25s ease both; box-shadow: inset 0 0 0 1px rgba(0,0,0,.02);
}
@keyframes chipIn{ from{ transform:translateY(8px); opacity:0 } to{ transform:translateY(0); opacity:1 } }
.vvn-task-chip-top{ display:flex; justify-content:space-between; align-items:center; gap:10px; }
.vvn-task-chip-desc{ margin-top:6px; opacity:.9; }
.vvn-badge{
    font-size:11px; padding:4px 8px; border-radius:999px; border:1px solid var(--shadow); font-weight:900;
}
.status-done{ background:rgba(34,197,94,.15); color:#16a34a; }
.status-pending{ background:rgba(245,158,11,.18); color:#b45309; }
.status-inprogress{ background:rgba(59,130,246,.16); color:#2563eb; }
.status-blocked{ background:rgba(239,68,68,.16); color:#ef4444; }

/* Respo */
@media (max-width:980px){ .vvn-section{ grid-template-columns:1fr; } }

/* Utils */
.sa-empty{ font-weight:700; opacity:.75; }
/* Tabs */
.vvn-tabs {
    display: flex;
    gap: 8px;
    margin: 8px 0 6px;
}
.vvn-tab {
    padding: 8px 12px;
    border-radius: 10px;
    border: 1px solid var(--shadow);
    background: var(--card-bg);
    cursor: pointer;
    font-weight: 600;
    transition: .2s ease;
}
.vvn-tab.active {
    background: var(--hover);
    box-shadow: inset 0 0 0 2px var(--accent);
}

/* Header compacto + chips */
.vvn-header-tight {
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.vvn-header-left { display: flex; flex-direction: column; gap: 6px; }
.vvn-counters { display: flex; flex-wrap: wrap; gap: 8px; }
.vvn-chip {
    border: 1px solid var(--shadow);
    background: var(--card-bg);
    color: var(--text);
    padding: 6px 10px;
    border-radius: 999px;
    font-weight: 700;
    font-size: 12px;
}
.vvn-chip-inp { box-shadow: inset 0 0 0 2px rgba(59,130,246,.25); }
.vvn-chip-sub { box-shadow: inset 0 0 0 2px rgba(99,102,241,.25); }
.vvn-chip-acc { box-shadow: inset 0 0 0 2px rgba(34,197,94,.25); }
.vvn-chip-wdr { box-shadow: inset 0 0 0 2px rgba(148,163,184,.28); }

/* Filtros */
.vvn-filters {
    display: grid;
    gap: 10px;
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    background: var(--card-bg);
    border: 1px solid var(--shadow);
    padding: 12px;
    border-radius: 12px;
    margin-bottom: 10px;
}
.sa-field.small label { font-size: 12px; opacity: .7; }
.sa-field.small .sa-input { font-size: 14px; padding: 8px 10px; }

/* layout lista + detalhes */
.vvn-grid {
    display: grid;
    grid-template-columns: 340px 1fr;
    gap: 14px;
    min-height: 420px;
}
.vvn-list {
    border: 1px solid var(--shadow);
    background: var(--card-bg);
    border-radius: 12px;
    padding: 10px;
    overflow-y: auto;
}
.vvn-skel {
    height: 64px;
    border-radius: 10px;
    background: linear-gradient(90deg, rgba(0,0,0,.06), rgba(0,0,0,.02), rgba(0,0,0,.06));
    animation: shimmer 1.4s linear infinite;
    margin-bottom: 8px;
}
@keyframes shimmer {
    0% { background-position: -220px 0; }
    100% { background-position: 220px 0; }
}

.vvn-item {
    width: 100%;
    text-align: left;
    border: 1px solid var(--shadow);
    background: var(--card-bg);
    border-radius: 12px;
    padding: 10px;
    margin-bottom: 8px;
    cursor: pointer;
    transition: .2s ease;
}
.vvn-item.active {
    box-shadow: inset 0 0 0 2px var(--accent);
}
.vvn-item:hover {
    transform: translateY(-1px);
    background: var(--hover);
}
.vvn-item-top {
    display: flex; align-items: center; justify-content: space-between;
}
.vvn-status {
    font-size: 12px;
    padding: 3px 8px;
    border-radius: 999px;
    font-weight: 800;
    border: 1px solid var(--shadow);
    text-transform: capitalize;
}
.v-inprogress { background: rgba(59,130,246,.16); color:#2563eb; }
.v-pendinginformation { background: rgba(245,158,11,.18); color:#d97706; }
.v-submitted { background: rgba(99,102,241,.16); color:#6366f1; }
.v-accepted { background: rgba(34,197,94,.15); color:#22c55e; }
.v-withdrawn { background: rgba(148,163,184,.22); color:#64748b; }

.vvn-item-sub { font-size: 12px; opacity: .8; margin-top: 4px; }

.vvn-main {
    border: 1px solid var(--shadow);
    background: var(--card-bg);
    border-radius: 12px;
    padding: 14px;
}

.vvn-head {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 12px;
}
.vvn-title { margin: 0; font-size: 22px; font-weight: 800; }
.vvn-sub { opacity: .8; }

.vvn-actions { display: flex; gap: 8px; }

.vvn-kpis {
    display: grid;
    gap: 12px;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    margin-bottom: 12px;
}

/* Modais simples (mantém consistência com storage area) */
.vvn-modal {
    background: var(--card-bg);
    width: 680px;
    max-width: 94vw;
    border: 1px solid var(--shadow);
    border-radius: 14px;
    padding: 18px;
    animation: saZoomIn .2s ease;
}
.vvn-modal-body { display: flex; flex-direction: column; gap: 10px; }
.vvn-modal-body.grid2 {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 12px;
}
.vvn-modal-actions {
    display: flex; justify-content: flex-end; gap: 10px; margin-top: 10px;
}
@keyframes saZoomIn {
    from { transform: scale(.92); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
}

/* Responsivo */
@media (max-width: 980px) {
    .vvn-grid { grid-template-columns: 1fr; }
}

/* ================================
   HEADER CONTADORES (se precisares)
================================ */
.vvn-header-tight {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 12px;
}
.vvn-header-left { display: flex; flex-direction: column; gap: 6px; }
.vvn-counters { display: flex; flex-wrap: wrap; gap: 8px; }
.vvn-chip {
    padding: 6px 10px;
    border-radius: 999px;
    font-weight: 700;
    font-size: 12px;
    border: 1px solid var(--shadow);
    background: var(--card-bg);
}
.vvn-chip-inp { box-shadow: inset 0 0 0 2px rgba(59,130,246,.25); }
.vvn-chip-sub { box-shadow: inset 0 0 0 2px rgba(99,102,241,.25); }
.vvn-chip-acc { box-shadow: inset 0 0 0 2px rgba(34,197,94,.25); }
.vvn-chip-wdr { box-shadow: inset 0 0 0 2px rgba(148,163,184,.3); }

/* ================================
   BOTÕES PARA ABRIR POPUPS
================================ */
.vvn-quick {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin: 8px 0 2px;
}
.vvn-pop-btn {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 10px 14px;
    border-radius: 12px;
    border: 1px solid var(--shadow);
    background: var(--card-bg);
    color: var(--text);
    font-weight: 700;
    cursor: pointer;
    transition: transform .18s ease, box-shadow .18s ease, background .2s ease;
}
.vvn-pop-btn:hover {
    transform: translateY(-2px);
    background: var(--hover);
    box-shadow: 0 10px 24px rgba(0,0,0,.12);
}
.vvn-pop-btn:disabled {
    opacity: .5;
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
}

/* ================================
   MODAL POPUP (Crew / Loading / Unloading / Tasks)
   usa o mesmo backdrop .sa-modal-backdrop já existente
================================ */
.vvn-pop-modal {
    width: 880px;
    max-width: 96vw;
    max-height: 86vh;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    gap: 10px;

    background: var(--card-bg);
    color: var(--text);
    border: 1px solid var(--shadow);
    border-radius: 16px;
    padding: 18px;
    animation: vvnPopIn .22s ease;
    box-shadow: 0 16px 40px rgba(0,0,0,.30);
}

/* header do modal (reutiliza .sa-dock-head / .sa-dock-title / .sa-dock-close) */
.vvn-pop-modal .sa-dock-title {
    font-size: clamp(14px, 1.6vw, 20px);
    font-weight: 900;
    letter-spacing: .2px;
}

/* corpo do modal: scroll suave para tabelas longas */
.vvn-pop-modal .vvn-table-wrap {
    max-height: 58vh;
    overflow: auto;
    border-radius: 10px;
}

/* animação */
@keyframes vvnPopIn {
    from { transform: translateY(14px) scale(.98); opacity: 0; }
    to   { transform: translateY(0)    scale(1);   opacity: 1; }
}

/* ================================
   BLOCO "definition list" compacto
================================ */
.vvn-def {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 10px;
    margin-bottom: 10px;
}
.vvn-def > div {
    border: 1px solid var(--shadow);
    background: var(--card-bg);
    border-radius: 10px;
    padding: 10px 12px;
    text-align: center;
    
}
.vvn-def span { font-size: 12px; opacity: .7; font-weight: 600; }
.vvn-def strong { font-size: 16px; font-weight: 800; }

/* ================================
   TABELAS (Crew Members e Entries)
================================ */
.vvn-table-wrap { overflow: auto; }
.vvn-table {
    width: 100%;
    border-collapse: collapse;
    border: 1px solid var(--shadow);
    border-radius: 10px;
    overflow: hidden;
    background: var(--card-bg);
    color: var(--text);
    
}
.vvn-table thead th {
    background: rgba(0,0,0,.04);
    font-weight: 800;
    font-size: 13px;
    text-transform: uppercase;
    letter-spacing: .3px;
    text-align: center;

}
:root[data-theme='dark'] .vvn-table thead th {
    background: rgba(255,255,255,.06);
}
.vvn-table th, .vvn-table td {
    padding: 10px 12px;
    border-bottom: 1px solid var(--shadow);
    text-align: left;
    font-size: 14px;
    text-align: center;

}
.vvn-table tbody tr:hover { background: var(--hover); }

/* ================================
   LISTA DE TAREFAS (no popup)
================================ */
.vvn-task-list {
    margin: 0;
    padding: 0 2px;
    list-style: none;
    display: grid;
    gap: 10px;
    max-height: 58vh;
    overflow: auto;
}
.vvn-task-list li {
    border: 1px solid var(--shadow);
    background: var(--card-bg);
    border-radius: 12px;
    padding: 10px 12px;
    transition: transform .15s ease, background .2s ease;
}
.vvn-task-list li:hover {
    transform: translateX(2px);
    background: var(--hover);
}
.vvn-task-status { opacity: .8; font-weight: 600; margin-left: 4px; }
.vvn-task-desc { opacity: .9; margin-top: 6px; }

/* ================================
   BADGES DE ESTADO NA LISTA (esq.)
   (mantém as que já tinhas — aqui vai o conjunto)
================================ */
.vvn-status {
    font-size: 12px;
    padding: 3px 8px;
    border-radius: 999px;
    font-weight: 700;
    border: 1px solid var(--shadow);
}
.v-inprogress           { background: rgba(59,130,246,.16);  color:#2563eb; }
.v-pendinginformation   { background: rgba(245,158,11,.18);  color:#d97706; }
.v-submitted            { background: rgba(99,102,241,.16);  color:#6366f1; }
.v-accepted             { background: rgba(34,197,94,.15);   color:#22c55e; }
.v-withdrawn            { background: rgba(148,163,184,.22); color:#64748b; }

/* ================================
   RESPONSIVO
================================ */
@media (max-width: 980px) {
    .vvn-pop-modal { width: 96vw; }
    .vvn-quick { gap: 8px; }
    .vvn-pop-btn { padding: 9px 12px; }
}
/* GRID 2x2 para os botões */
.vvn-quick-grid{
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 12px;
    margin: 10px 0 6px;
}

/* Botão “tile” simples, tamanho consistente */
.vvn-tile{
    display: grid;
    grid-template-columns: 40px 1fr;
    align-items: center;
    gap: 10px;

    min-height: 64px;
    padding: 12px 14px;

    border: 1px solid var(--shadow);
    border-radius: 12px;
    background: var(--card-bg);
    color: var(--text);
    cursor: pointer;

    font-weight: 800;
    letter-spacing: .2px;

    transition: transform .15s ease, background .2s ease, box-shadow .2s ease, border-color .2s ease;
}

/* hover/active simples */
.vvn-tile:hover{
    transform: translateY(-1px);
    background: var(--hover);
    box-shadow: 0 8px 20px rgba(0,0,0,.10);
}
.vvn-tile:active{ transform: translateY(0); }
.vvn-tile:disabled{ opacity:.55; cursor:not-allowed; transform:none; box-shadow:none; }

/* Ícone quadrado discreto */
.vvn-ico{
    width: 40px; height: 40px;
    display: grid; place-items: center;
    border-radius: 10px;
    border: 1px solid var(--shadow);
    background: linear-gradient(180deg, rgba(0,0,0,.05), transparent);
    font-size: 18px;
}

/* Texto: título + subtítulo em linha simples */
.vvn-text b{ display:block; font-size: 14px; }
.vvn-text span{ display:block; font-size: 12px; opacity: .75; font-weight: 600; }

/* Variedades de cor (aro sutil) */
.vvn-tile.is-crew{       box-shadow: inset 0 0 0 2px rgba(59,130,246,.20); }
.vvn-tile.is-loading{    box-shadow: inset 0 0 0 2px rgba(99,102,241,.20); }
.vvn-tile.is-unloading{  box-shadow: inset 0 0 0 2px rgba(245,158,11,.22); }
.vvn-tile.is-tasks{      box-shadow: inset 0 0 0 2px rgba(34,197,94,.22); }

/* Responsivo: 1 coluna em ecrãs pequenos */
@media (max-width: 640px){
    .vvn-quick-grid{ grid-template-columns: 1fr; }
}
